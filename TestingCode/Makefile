all: gen-request


test_stdin: gen-request scgi2env-exec
	./gen-request | ./scgi2env-exec ./emit-scgi-env.cgi


test_socket: gen-request scgi-launch
	scgi-launch $(shell hostname) 2020 ./emit-env.cgi &
	gen-request | socket $(shell hostname) 2020


gen-request: gen-request.c
	$(CC) -o gen-request gen-request.c


simple.request:
	# A simple SCGI request generated from gen-request.c
	gen-request > simple.request


www.sandbox.csun.edu.request:
	# A more complex SCGI request generated by intercepting a live request
	# Web Host (ssh.sandbox.csun.edu): ProxyPass "/~steve/scgi-bin/" "scgi://localhost:4000/"
	# ssh.sandbox.csun.edu: server:    socket -B localhost -s 4000 > www.sandbox.csun.edu.request
	# client:                          curl https://www.sandbox.csun.edu/~steve/scgi-bin
	
